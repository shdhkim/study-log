# JavaScript Set / Map / Array.from 정리 

> 배열의 한계를 보완하는 JS 컬렉션 자료구조 정리  
> React 상태 관리, 성능 최적화, 중복 제거, 빠른 조회 패턴 중심

---

## 1. 한 눈에 보는 요약

| 자료구조 | 정체 | 핵심 용도 |
|---|---|--- |
| Array | 순서 있는 리스트 | 렌더링, map/filter |
| Set | 중복 없는 값 집합 | 중복 제거, 포함 여부 |
| Map | key → value 맵 | 빠른 조회, 딕셔너리 |
| Array.from | 변환기 | Set/Map → Array |

---

## 2. Set

### 2-1. 개념
- 중복을 허용하지 않는 값 집합
- 값만 저장 (key 없음)
- 삽입 순서 유지

```js
const s = new Set();

s.add(1);
s.add(1);
s.add(2);

console.log(s); // Set {1, 2}
```

---

### 2-2. 배열 중복 제거

```js
const arr = [1,1,2,3,3];

const unique = [...new Set(arr)];
// [1,2,3]
```

---

### 2-3. 포함 여부 체크

```js
const set = new Set([1,2,3]);

set.has(2); // true
set.has(5); // false
```

- Array.includes : O(n)
- Set.has : O(1)

---

### 2-4. React 상태 관리 예제

```js
const [selected, setSelected] = useState(new Set());

setSelected(prev => {
  const next = new Set(prev);
  next.add(id);
  return next;
});
```

- Set은 mutable
- 반드시 새로운 Set 생성 필요

---

## 3. Map

### 3-1. 개념
- key → value 저장 구조
- key 타입 제한 없음 (객체 가능)
- 삽입 순서 보장
- size 제공

```js
const m = new Map();

m.set("a", 1);
m.set("b", 2);

m.get("a"); // 1
m.has("b"); // true
```

---

### 3-2. Object와 차이

| 항목 | Object | Map |
|---|---|---|
| key 타입 | string/symbol | any |
| 순서 보장 | 제한적 | 보장 |
| 크기 | 직접 계산 | map.size |
| 대량 데이터 | 불리 | 유리 |

---

### 3-3. 객체를 key로 사용하는 경우

```js
const keyObj = { id: 1 };
const map = new Map();

map.set(keyObj, "value");
map.get(keyObj); // "value"
```

---

### 3-4. 배열 → Map 변환 (id lookup)

```js
const items = [
  { id: 1, name: "A" },
  { id: 2, name: "B" }
];

const map = new Map(
  items.map(it => [it.id, it])
);

map.get(2); // { id:2, name:"B" }
```

---

## 4. Array.from

### 4-1. 개념
- iterable / array-like 객체를 배열로 변환

```js
Array.from(iterable, mapFn?);
```

---

### 4-2. Set → Array

```js
const set = new Set([1,2,3]);

Array.from(set); // [1,2,3]
[...set];        // 동일
```

---

### 4-3. Map → Array

```js
const map = new Map([
  ["a", 1],
  ["b", 2]
]);

Array.from(map);          // [["a",1],["b",2]]
Array.from(map.keys());   // ["a","b"]
Array.from(map.values()); // [1,2]
```

---

### 4-4. 변환 + map 동시에

```js
Array.from([1,2,3], x => x * 2);
// [2,4,6]
```

---

## 5. React 실무 패턴

### 5-1. 중복 제거 후 렌더링

```js
const uniqueCategories = Array.from(
  new Set(items.map(it => it.category))
);
```

---

### 5-2. 빠른 조회 구조

```js
const itemMap = useMemo(
  () => new Map(items.map(it => [it.id, it])),
  [items]
);

itemMap.get(id);
```

---

### 5-3. Set 기반 토글 처리

```js
setSelected(prev => {
  const next = new Set(prev);
  next.has(id) ? next.delete(id) : next.add(id);
  return next;
});
```

---

## 6. 선택 기준 요약

| 상황 | 추천 |
|---|---|
| 렌더링 | Array |
| 중복 제거 | Set |
| 포함 여부 체크 | Set |
| id → 객체 조회 | Map |
| 구조 변환 | Array.from |

---

## 핵심 요약

- Set은 중복 없는 값 집합
- Map은 key-value 딕셔너리
- Array.from은 컬렉션을 배열로 변환하는 도구
- React에서는 불변성 유지가 핵심
