# Spring Boot 런타임 로그 상세 정리

본 문서는 Spring Boot 애플리케이션 실행 중 발생하는 **런타임 로그(Runtime Log)** 를 구성 요소별로 상세히 설명한다.
서버 기동부터 요청 처리, 비즈니스 로직, DB 접근, 예외 발생까지 로그를 **구조적으로 이해**하는 것을 목표로 한다.

---

## 1. 런타임 로그(Runtime Log)란?

런타임 로그란 **JVM이 실행된 이후부터 종료될 때까지** 애플리케이션이 동작하면서 발생하는 모든 로그를 의미한다.

포함 범위:

* 서버 기동 로그
* 프레임워크 내부 동작 로그
* 코드 실행 로그(개발자 로그)
* SQL 실행 로그
* 예외 및 에러 로그

---

## 2. 서버 실행 로그 (Server Startup Log)

### 2.1 정의

서버 실행 로그는 **Spring Boot 애플리케이션을 실행했을 때 가장 먼저 출력되는 로그**이다.
주 목적은 다음과 같다.

* 서버가 정상적으로 기동되었는지 확인
* 사용 중인 환경(Profile), 포트, WAS 확인
* 애플리케이션 초기화 과정 추적

---

### 2.2 주요 구성 요소

#### 2.2.1 Spring Boot / Spring Framework 로그

* 패키지: `org.springframework.*`
* 역할:

  * ApplicationContext 생성
  * Bean 스캔 및 등록
  * Auto Configuration 적용

대표 로그 예시:

```text
Starting SkalaBackendApplication using Java 17
The following profiles are active: dev
Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext
```

---

#### 2.2.2 Tomcat / WAS 로그

* 패키지:

  * `org.apache.catalina.*`
  * `org.apache.tomcat.*`
* 역할:

  * 내장 톰캣 기동
  * 포트 바인딩
  * HTTP 커넥터 초기화

대표 로그 예시:

```text
Tomcat started on port(s): 8080 (http)
```

---

#### 2.2.3 DB 커넥션 풀 로그 (HikariCP)

* 패키지: `com.zaxxer.hikari.*`
* 역할:

  * DB 커넥션 풀 생성
  * 초기 커넥션 확보

대표 로그 예시:

```text
HikariPool-1 - Start completed.
```

---

## 3. 프레임워크 런타임 로그 (Framework Runtime Log)

### 3.1 정의

프레임워크 런타임 로그는 **서버가 기동된 이후, 요청을 처리하는 과정에서 Spring Framework 내부에서 발생하는 로그**이다.

---

### 3.2 주요 구성 요소

#### 3.2.1 DispatcherServlet 로그

* 역할:

  * HTTP 요청 진입점
  * Controller 매핑
  * View 처리

관련 패키지:

* `org.springframework.web.servlet.DispatcherServlet`

---

#### 3.2.2 Filter / Interceptor 로그

* 역할:

  * 인증/인가 처리
  * 요청/응답 전처리 및 후처리

관련 패키지:

* `javax.servlet.Filter`
* `org.springframework.web.servlet.HandlerInterceptor`

---

#### 3.2.3 Transaction 로그

* 역할:

  * 트랜잭션 시작/커밋/롤백
  * DB 작업 경계 관리

관련 패키지:

* `org.springframework.transaction.*`

---

## 4. 코드 실행 로그 (Code Execution Log)

### 4.1 정의

코드 실행 로그는 **개발자가 직접 코드에서 남기는 로그**이다.

* `log.info()`
* `log.debug()`
* `log.warn()`
* `log.error()`

---

### 4.2 목적

* 비즈니스 로직 흐름 추적
* 주요 상태 값 기록
* 장애 분석 시 근거 제공

---

### 4.3 예시

```java
log.info("주문 요청 시작 orderId={}", orderId);
log.debug("결제 검증 단계 진입");
```

---

## 5. SQL 로그

### 5.1 정의

SQL 로그는 **ORM 또는 JDBC를 통해 실행되는 SQL을 기록하는 로그**이다.

---

### 5.2 주요 패키지

* `org.hibernate.SQL`
* `org.hibernate.type.descriptor.sql`

---

### 5.3 예시

```text
Hibernate: select * from orders where id = ?
```

---

### 5.4 주의 사항

* 운영 환경에서는 과도한 SQL 로그 출력 금지
* 성능 저하 및 보안 위험 존재

---

## 6. 예외 / 에러 로그 (Exception / Error Log)

### 6.1 정의

예외 로그는 **애플리케이션 실행 중 오류가 발생했을 때 출력되는 로그**이다.

---

### 6.2 특징

* 반드시 스택트레이스 포함
* 장애 분석의 핵심 자료

---

### 6.3 예시

```java
try {
    process();
} catch (Exception e) {
    log.error("처리 실패", e);
}
```

---

## 7. 전체 구조 요약

```
[ 런타임 로그 ]
 ├─ 서버 실행 로그
 │    ├─ Spring Boot / Spring Framework
 │    ├─ Tomcat / WAS
 │    ├─ DB 커넥션 풀
 │
 ├─ 프레임워크 런타임 로그
 │    ├─ DispatcherServlet
 │    ├─ Filter / Interceptor
 │    ├─ Transaction
 │
 ├─ 코드 실행 로그
 ├─ SQL 로그
 └─ 예외 / 에러 로그
```

---

## 8. 핵심 정리

* 서버 실행 로그는 런타임 로그의 시작점이다.
* 코드 실행 로그는 런타임 로그의 일부이다.
* 런타임 로그는 서버 실행부터 종료까지의 모든 로그를 포함한다.
* 로그는 구조적으로 분류하여 이해해야 장애 분석이 가능하다.

---


